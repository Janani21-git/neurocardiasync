{% extends "users/base.html" %}
{% block title %}NeuroCardio Stress level Prediction{% endblock title %}

{% block extra_css %}
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
<style>
    .gradient-bg {
        background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
    }
    
    .glass-card {
        background: rgba(255, 255, 255, 0.08);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border-radius: 20px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.36);
    }
    
    .form-input {
        transition: all 0.3s ease;
    }
    
    .form-input:focus {
        box-shadow: 0 0 0 3px rgba(38, 198, 218, 0.3);
    }
    
    .predict-btn {
        background: linear-gradient(45deg, #26c6da, #0097a7);
        transition: all 0.3s ease;
    }
    
    .predict-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px -5px rgba(38, 198, 218, 0.4);
    }
</style>
{% endblock %}

{% block content %}
<div class="min-h-screen gradient-bg py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-2xl mx-auto">

        <div id="main-card" class="glass-card p-8 sm:p-10">

            <!-- Header -->
            <div class="text-center mb-10">
                <div class="inline-block mb-4">
                    <div class="w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto">
                        <i class="fas fa-brain text-3xl text-blue-300"></i>
                    </div>
                </div>
                <h2 class="text-3xl font-extrabold text-white mb-2">
                    Stress Level Assessment
                </h2>
                <p class="text-blue-100">
                    Enter physiological and mental health details
                </p>
            </div>

            <form method="post" class="space-y-6">
            {% csrf_token %}

            <!-- Gender & Age -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-sm font-medium text-blue-100 mb-1">Gender</label>
                    <select name="Gender" required
                        class="form-input w-full bg-white/10 border border-white/20 text-white rounded-lg py-3 px-4">
                        <option value="">Select Gender</option>
                        <option value="0">Female</option>
                        <option value="1">Male</option>
                    </select>
                </div>

                <div>
                    <label class="block text-sm font-medium text-blue-100 mb-1">Age</label>
                    <input type="number" name="Age" required
                        class="form-input w-full bg-white/10 border border-white/20 text-white rounded-lg py-3 px-4"
                        placeholder="Enter age">
                </div>
            </div>

            <!-- Health Parameters -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-sm font-medium text-blue-100 mb-1">Heart_rate_BPM</label>
                    <input type="number" name="Heart_rate_BPM" required
                        class="form-input w-full bg-white/10 border border-white/20 text-white rounded-lg py-3 px-4"
                        placeholder="60 - 120">
                </div>

                <div>
                    <label class="block text-sm font-medium text-blue-100 mb-1">Heart_rate_variability</label>
                    <input type="number" step="0.01" name="Heart_rate_variability" required
                        class="form-input w-full bg-white/10 border border-white/20 text-white rounded-lg py-3 px-4"
                        placeholder="e.g. 45.5">
                </div>

                <div>
                    <label class="block text-sm font-medium text-blue-100 mb-1">Respiratory_rate</label>
                    <input type="number" name="Respiratory_rate" required
                        class="form-input w-full bg-white/10 border border-white/20 text-white rounded-lg py-3 px-4"
                        placeholder="12 - 30">
                </div>

                <div>
                    <label class="block text-sm font-medium text-blue-100 mb-1">Mental_Fatigue_level</label>
                    <input type="number" step="0.1" name="Mental_Fatigue_level" required
                        class="form-input w-full bg-white/10 border border-white/20 text-white rounded-lg py-3 px-4"
                        placeholder="1 - 10">
                </div>

                <div>
                    <label class="block text-sm font-medium text-blue-100 mb-1">Reaction_time_delay</label>
                    <input type="number" step="0.1" name="Reaction_time_delay" required
                        class="form-input w-full bg-white/10 border border-white/20 text-white rounded-lg py-3 px-4"
                        placeholder="150 - 600">
                </div>

                <div>
                    <label class="block text-sm font-medium text-blue-100 mb-1">Adrenaline</label>
                    <input type="number" step="0.01" name="Adrenaline" required
                        class="form-input w-full bg-white/10 border border-white/20 text-white rounded-lg py-3 px-4"
                        placeholder="0.5 - 5.0">
                </div>

                <div class="md:col-span-2">
                    <label class="block text-sm font-medium text-blue-100 mb-1">Cortisol_level</label>
                    <input type="number" step="0.01" name="Cortisol_level" required
                        class="form-input w-full bg-white/10 border border-white/20 text-white rounded-lg py-3 px-4"
                        placeholder="5 - 30">
                </div>
            </div>

            <!-- Submit -->
            <div class="pt-4">
                <button type="submit" id="submit-btn"
                    class="predict-btn w-full text-white font-bold py-3 px-4 rounded-lg transition-all duration-300">
                    <i class="fas fa-chart-line mr-2"></i> Predict Stress Level
                </button>
            </div>
        </form>

        </div>
    </div>
</div>
{% endblock content %}


{% block extra_js %}
<!-- Framer Motion -->
<script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    blue: {
                        100: '#e0f2fe',
                        200: '#bae6fd',
                        300: '#7dd3fc',
                        400: '#38bdf8',
                        500: '#0ea5e9',
                        600: '#0284c7',
                        700: '#0369a1',
                        800: '#075985',
                        900: '#0c4a6e',
                    }
                }
            }
        }
    }

    // Initialize animations after page load
    document.addEventListener('DOMContentLoaded', function() {
        const { motion } = window.Motion;
        
        // Main card animation
        motion(document.getElementById('main-card'), {
            initial: { opacity: 0, y: 20 },
            animate: { opacity: 1, y: 0 },
            transition: { duration: 0.5 }
        });
        
        // Lungs icon animation
        motion(document.getElementById('lungs-icon'), {
            whileHover: { scale: 1.05 }
        });
        
        // Form fields animation
        document.querySelectorAll('.hoverable-field').forEach(field => {
            motion(field, {
                whileHover: { scale: 1.01 }
            });
        });
        
        // Submit button animation
        motion(document.getElementById('submit-btn'), {
            whileHover: { scale: 1.02 },
            whileTap: { scale: 0.98 }
        });
    });
</script>
{% endblock %}